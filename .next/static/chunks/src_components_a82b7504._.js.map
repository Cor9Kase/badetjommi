{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/corneliuskase/Documents/Badekompis/src/components/ui/avatar.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatar.displayName = AvatarPrimitive.Root.displayName\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn(\"aspect-square h-full w-full\", className)}\n    {...props}\n  />\n))\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\n\nexport { Avatar, AvatarImage, AvatarFallback }\n"],"names":[],"mappings":";;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,uBAAS,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAG5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,OAAoB;QACnB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,iEACA;QAED,GAAG,KAAK;;;;;;;AAGb,OAAO,WAAW,GAAG,qKAAA,CAAA,OAAoB,CAAC,WAAW;AAErD,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,QAAqB;QACpB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,+BAA+B;QAC5C,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,qKAAA,CAAA,QAAqB,CAAC,WAAW;AAE3D,MAAM,+BAAiB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGpC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,WAAwB;QACvB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,wEACA;QAED,GAAG,KAAK;;;;;;;AAGb,eAAe,WAAW,GAAG,qKAAA,CAAA,WAAwB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 71, "column": 0}, "map": {"version":3,"sources":["file:///Users/corneliuskase/Documents/Badekompis/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n"],"names":[],"mappings":";;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAG1B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,4DACA;QAED,GAAG,KAAK;;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,sDACA;QAED,GAAG,KAAK;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGrC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QAAI,KAAK;QAAK,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,YAAY;QAAa,GAAG,KAAK;;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,SAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 174, "column": 0}, "map": {"version":3,"sources":["file:///Users/corneliuskase/Documents/Badekompis/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACvB,4VACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAC5B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,mKAAA,CAAA,OAAI,GAAG;IAC9B,qBACE,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,OAAO,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 241, "column": 0}, "map": {"version":3,"sources":["file:///Users/corneliuskase/Documents/Badekompis/src/components/ui/separator.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n"],"names":[],"mappings":";;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,0BAAY,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAI/B,CACE,EAAE,SAAS,EAAE,cAAc,YAAY,EAAE,aAAa,IAAI,EAAE,GAAG,OAAO,EACtE,oBAEA,6LAAC,wKAAA,CAAA,OAAuB;QACtB,KAAK;QACL,YAAY;QACZ,aAAa;QACb,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,sBACA,gBAAgB,eAAe,mBAAmB,kBAClD;QAED,GAAG,KAAK;;;;;;;AAIf,UAAU,WAAW,GAAG,wKAAA,CAAA,OAAuB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 279, "column": 0}, "map": {"version":3,"sources":["file:///Users/corneliuskase/Documents/Badekompis/src/components/app/real-time-feed.tsx"],"sourcesContent":["\n\"use client\";\n\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\nimport { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { MessageCircle, ThumbsUp, Heart, PartyPopper, Droplets, CalendarCheck, Users, UserCheck, UserPlus, Info, UserMinus, Smile, Waves } from \"lucide-react\";\nimport Image from \"next/image\";\nimport Link from \"next/link\";\nimport { Separator } from \"@/components/ui/separator\";\nimport type { FC } from \"react\";\nimport { useState, useEffect } from \"react\";\nimport type { BathEntry, PlannedBath } from \"@/types/bath\"; \nimport { useToast } from \"@/hooks/use-toast\";\nimport { useAuth, type UserProfile } from \"@/contexts/auth-context\";\nimport { db } from \"@/lib/firebase\";\nimport { collection, query, orderBy, onSnapshot, doc, updateDoc, arrayUnion, arrayRemove, getDoc } from \"firebase/firestore\";\nimport { format } from \"date-fns\";\nimport { nb } from \"date-fns/locale\";\n\n\nconst ReactionButton: FC<{ icon: React.ElementType, count: number, label: string, onClick?: () => void, disabled?: boolean }> = ({ icon: Icon, count, label, onClick, disabled }) => (\n  <Button variant=\"ghost\" size=\"sm\" className=\"flex items-center gap-1 text-muted-foreground hover:text-accent-foreground\" onClick={onClick} disabled={disabled}>\n    <Icon className=\"h-4 w-4\" />\n    <span>{count}</span>\n    <span className=\"sr-only\">{label}</span>\n  </Button>\n);\n\ninterface AttendeeDetails {\n  [uid: string]: Pick<UserProfile, 'name' | 'avatarUrl'>;\n}\n\nexport function RealTimeFeed() {\n  const { toast } = useToast();\n  const { currentUser, userProfile, loading: authLoading } = useAuth();\n  const [feedItems, setFeedItems] = useState<BathEntry[]>([]);\n  const [attendeesDetails, setAttendeesDetails] = useState<AttendeeDetails>({});\n  const [feedLoading, setFeedLoading] = useState(true);\n\n  useEffect(() => {\n    setFeedLoading(true);\n    const bathsCollectionRef = collection(db, \"baths\");\n    const q = query(bathsCollectionRef, orderBy(\"createdAt\", \"desc\"));\n\n    const unsubscribe = onSnapshot(q, async (querySnapshot) => {\n      const items: BathEntry[] = [];\n      const attendeeIdsToFetch = new Set<string>();\n\n      querySnapshot.forEach((doc) => {\n        const data = doc.data() as BathEntry;\n        items.push({ ...data, id: doc.id });\n        if (data.type === 'planned') {\n            data.attendees.forEach(uid => attendeeIdsToFetch.add(uid));\n        }\n      });\n\n      setFeedItems(items);\n      \n      // Fetch details for attendees if there are any new ones\n      if (attendeeIdsToFetch.size > 0) {\n        const newAttendeesDetails: AttendeeDetails = {};\n        for (const uid of Array.from(attendeeIdsToFetch)) {\n            if (!attendeesDetails[uid]) { // Only fetch if not already fetched\n                const userDocRef = doc(db, \"users\", uid);\n                const userSnap = await getDoc(userDocRef);\n                if (userSnap.exists()) {\n                    const userData = userSnap.data() as UserProfile;\n                    newAttendeesDetails[uid] = { name: userData.name, avatarUrl: userData.avatarUrl };\n                }\n            }\n        }\n        setAttendeesDetails(prev => ({ ...prev, ...newAttendeesDetails }));\n      }\n      setFeedLoading(false);\n    }, (error) => {\n      console.error(\"Error fetching feed items: \", error);\n      toast({ variant: \"destructive\", title: \"Feil\", description: \"Kunne ikke laste feed.\" });\n      setFeedLoading(false);\n    });\n\n    return () => unsubscribe();\n  }, [toast]); // Removed attendeesDetails from dependency array to prevent potential infinite loop\n\n  const handleSignUp = async (plannedBathId: string, bathDescription: string) => {\n    if (!currentUser) {\n      toast({ variant: \"destructive\", title: \"Logg Inn\", description: \"Du må være logget inn for å melde deg på.\" });\n      return;\n    }\n    const bathDocRef = doc(db, \"baths\", plannedBathId);\n    try {\n      await updateDoc(bathDocRef, {\n        attendees: arrayUnion(currentUser.uid)\n      });\n      // Optimistically update local state (attendeesDetails will eventually catch up via snapshot)\n      // No need to directly setAttendeesDetails here as the onSnapshot listener will handle it\n      toast({\n        title: \"Påmeldt!\",\n        description: `Du er nå påmeldt \"${bathDescription}\".`,\n        variant: \"default\",\n      });\n    } catch (error) {\n      console.error(\"Error signing up for bath: \", error);\n      toast({ variant: \"destructive\", title: \"Feil\", description: \"Kunne ikke melde deg på.\" });\n    }\n  };\n\n  const handleSignOff = async (plannedBathId: string, bathDescription: string) => {\n    if (!currentUser) {\n      toast({ variant: \"destructive\", title: \"Logg Inn\", description: \"Du må være logget inn.\" });\n      return;\n    }\n    const bathDocRef = doc(db, \"baths\", plannedBathId);\n    try {\n      await updateDoc(bathDocRef, {\n        attendees: arrayRemove(currentUser.uid)\n      });\n      toast({\n        title: \"Avmeldt!\",\n        description: `Du er nå avmeldt \"${bathDescription}\".`,\n        variant: \"default\",\n      });\n    } catch (error) {\n      console.error(\"Error signing off from bath: \", error);\n      toast({ variant: \"destructive\", title: \"Feil\", description: \"Kunne ikke melde deg av.\" });\n    }\n  };\n\n\n  if (authLoading || feedLoading) {\n    return (\n      <div className=\"flex flex-col items-center justify-center min-h-[calc(100vh-200px)]\">\n        <Waves className=\"h-12 w-12 animate-spin text-primary mb-4\" />\n        <p className=\"text-muted-foreground\">Laster inn badefeed...</p>\n      </div>\n    );\n  }\n\n  if (feedItems.length === 0) {\n    return (\n      <div className=\"text-center text-muted-foreground py-8\">\n        <Droplets className=\"mx-auto h-12 w-12 mb-4 text-primary\" />\n        <p className=\"text-lg\">Ingen plask eller planer logget ennå.</p>\n        <p>Bli den første til å dykke i og logge badet ditt eller planlegg et fellesbad!</p>\n      </div>\n    );\n  }\n  \n  const formatDateForDisplay = (dateString: string) => {\n    try {\n      return format(new Date(dateString), \"d. MMMM yyyy\", { locale: nb });\n    } catch (e) {\n      return dateString; // Fallback if date is not in expected 'yyyy-MM-dd' format\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {feedItems.map((entry) => (\n        <Card key={entry.id} className=\"overflow-hidden shadow-md hover:shadow-lg transition-shadow duration-300 bg-card\">\n          <CardHeader className=\"p-4\">\n            <div className=\"flex items-center space-x-3\">\n              <Link href={`/profil/${entry.userId}`} passHref legacyBehavior>\n                <a className=\"flex items-center space-x-3 group\">\n                  <Avatar className=\"h-11 w-11 border-2 border-primary/50\">\n                    <AvatarImage src={entry.userAvatar || `https://picsum.photos/seed/${entry.userId}/40/40`} alt={entry.userName} data-ai-hint=\"brukeravatar\"/>\n                    <AvatarFallback>{entry.userName.substring(0, 2).toUpperCase()}</AvatarFallback>\n                  </Avatar>\n                  <div>\n                    <CardTitle className=\"text-lg font-semibold group-hover:underline\">{entry.userName}</CardTitle>\n                    <CardDescription className=\"text-xs text-muted-foreground\">\n                      {entry.type === 'planned' ? 'Planla et bad for ' : ''}\n                      {formatDateForDisplay(entry.date)} kl. {entry.time}\n                      {entry.location && ` @ ${entry.location}`}\n                    </CardDescription>\n                  </div>\n                </a>\n              </Link>\n            </div>\n          </CardHeader>\n          <CardContent className=\"p-4 pt-0\">\n            {entry.type === 'logged' && entry.imageUrl && (\n              <div className=\"mb-4 rounded-lg overflow-hidden aspect-video relative\">\n                <Image \n                    src={entry.imageUrl} \n                    alt={`Bad av ${entry.userName}`} \n                    fill\n                    className=\"object-cover\"\n                    data-ai-hint=\"naturskjønt vann\"\n                />\n              </div>\n            )}\n             {entry.type === 'logged' && (\n              <div className=\"space-y-1 mb-3\">\n                {entry.comments && <p className=\"text-sm\">{entry.comments}</p>}\n                {entry.waterTemperature && (\n                  <div className=\"flex items-center text-sm text-muted-foreground\">\n                    <Smile className=\"h-4 w-4 mr-1.5 text-primary\" />\n                    <span>Temperaturfølelse: {entry.waterTemperature}</span>\n                  </div>\n                )}\n              </div>\n            )}\n            \n            {entry.type === 'planned' && (\n              <div className=\"space-y-2\">\n                <h3 className=\"font-semibold text-md flex items-center\"><CalendarCheck className=\"h-5 w-5 mr-2 text-primary\" /> {entry.description}</h3>\n                {entry.location && <p className=\"text-sm text-muted-foreground\">Sted: {entry.location}</p>}\n                <p className=\"text-sm text-muted-foreground\">Antall påmeldte: {entry.attendees.length}</p>\n                {entry.attendees.length > 0 && (\n                  <p className=\"text-sm text-muted-foreground\">\n                    Deltakere: {entry.attendees.map(uid => attendeesDetails[uid]?.name || 'Laster...').join(', ')}\n                  </p>\n                )}\n              </div>\n            )}\n          </CardContent>\n          <Separator />\n          <CardFooter className=\"p-2 flex justify-between items-center bg-secondary/30\">\n            {entry.type === 'logged' ? (\n              <>\n                <div className=\"flex items-center space-x-1\">\n                  <ReactionButton icon={ThumbsUp} count={entry.reactions.thumbsUp} label=\"Tommel Opp\" />\n                  <ReactionButton icon={Heart} count={entry.reactions.heart} label=\"Hjerte\" />\n                  <ReactionButton icon={PartyPopper} count={entry.reactions.party} label=\"Fest\" />\n                </div>\n                <Button variant=\"ghost\" size=\"sm\" className=\"text-muted-foreground hover:text-accent-foreground\">\n                  <MessageCircle className=\"h-4 w-4 mr-1\" />\n                  {entry.commentCount} Kommentarer {/* TODO: Implement comments functionality */}\n                </Button>\n              </>\n            ) : ( // Planned bath\n              <div className=\"flex w-full justify-between items-center\">\n                <div className=\"flex items-center text-sm text-muted-foreground\">\n                  <Users className=\"h-4 w-4 mr-2\" />\n                  <span>{entry.attendees.length} påmeldt</span>\n                </div>\n                {currentUser && entry.userId === currentUser.uid ? (\n                   <Button size=\"sm\" variant=\"outline\" disabled>\n                     <Info className=\"h-4 w-4 mr-2\" /> Du arrangerer\n                   </Button>\n                ) : currentUser && entry.attendees.includes(currentUser.uid) ? (\n                  <Button \n                    size=\"sm\" \n                    variant=\"outline\"\n                    onClick={() => handleSignOff(entry.id, entry.description)}\n                  >\n                    <UserMinus className=\"h-4 w-4 mr-2\" /> Meld deg av\n                  </Button>\n                ) : (\n                  <Button \n                    size=\"sm\" \n                    onClick={() => handleSignUp(entry.id, entry.description)}\n                    disabled={!currentUser} // Disable if no user logged in\n                  >\n                    <UserPlus className=\"h-4 w-4 mr-2\" /> Meld deg på\n                  </Button>\n                )}\n              </div>\n            )}\n          </CardFooter>\n        </Card>\n      ))}\n    </div>\n  );\n}\n\n"],"names":[],"mappings":"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","debugId":null}}]
}